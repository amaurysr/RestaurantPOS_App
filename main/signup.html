<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant POS</title>
    <link rel="stylesheet" href="style.css">
    <style>
        #pattern1{
            background: linear-gradient(90deg, rgba(9, 0, 2, 1), rgba(0, 0, 0, 1), rgba(131, 110, 91, 1));
            opacity: 0.8;
        }
        form
        {
            background-color: #ffffff;
            opacity: 1;
            background-image: radial-gradient(circle at center center, #fafafa, #ffffff), repeating-radial-gradient(circle at center center, #fafafa, #fafafa, 40px, transparent 80px, transparent 40px);
            background-blend-mode: multiply;;
        }
    </style>
</head>
<body class="bg-fancy-restaurant">
    <header>
        <nav>
            <div class="text-center">
                <h1 id="pattern1" class=" bg-fancy-pattern font-playfair-display-sc text-4xl sm:text-6xl md:text-8xl lg:text-9xl xl:text-10xl text-white p-4 sm:p-6 md:p-8 lg:p-10 xl:p-12 scroll-smooth">De Luxe Restaurant</h1>
            </div>
        </nav>
    </header>
    <main class="flex flex-col justify-center items-center min-h-screen sm:py-20 md:py-24 lg:py-28 xl:py-32">
        <form class="p-4 sm:p-8 md:p-16 lg:p-24 xl:p-40 border rounded-3xl">
            <h1 class="text-2xl text-center font-mono">Sign In</h1>
            <div class="mb-4">
                <label for="email" class="block text-black">Email:</label>
                <input type="email" id="email" name="email" class="bg-black text-white border rounded-3xl px-3 py-2 w-full" placeholder="Enter your email" required>
            </div>
            <div class="mb-4">
                <label for="password" class="block text-black">Password:</label>
                <input type="password" id="password" name="password"  onchange="passCheck()"  class="bg-black text-white border rounded-3xl px-3 py-2 w-full" placeholder="Enter your password" required>
            </div>
            <div class="mb-4">
                <label for="verify-password" class="block text-black">Verify Password:</label>
                <!--name is removed for verify-password because it's used solely for verification-->
                <input type="password" id="verify-password"  onchange="passCheck()"  class="bg-black text-white border rounded-3xl px-3 py-2 w-full" placeholder="Enter your email" required>
            </div>
            <div class="mb-4">
                <label for="firstname" class="block text-black">First Name:</label>
                <input type="text" id="firstname" name="firstname" class="bg-black text-white border rounded-3xl px-3 py-2 w-full" placeholder="Enter your password" required>
            </div>
            <div class="mb-4">
                <label for="lastname" class="block text-black">Last Name:</label>
                <input type="text" id="lastname" name="lastname" class="bg-black text-white border rounded-3xl px-3 py-2 w-full" placeholder="Enter your password" required>
            </div>
            <div class="mb-4">
                <label for="username" class="block text-black">Username:</label>
                <input type="text" id="name" name="username" class="bg-black text-white border rounded-3xl px-3 py-2 w-full" placeholder="Enter your password" required>
            </div>
            <button id="submit" type="submit" class="bg-blue-500 text-white rounded px-4 py-2 w-full hover:bg-blue-600" >Sign Up</button>
        </form>        
        <script>
            // create a variable for our submit button using the id=""
            $submit = document.getElementById("submit");
            // We are disabling the submit button because we want our two passwords to verify each other
            $submit.disabled = true;

            // function that checks the two password boxes and then enables our submit button 
            function passCheck(){
                // checks the password box
                $password = document.getElementById("password"); 
                // checks the verify-password box
                $checkPass = document.getElementById("verify-password");

                if ($password.value == $checkPass.value){
                    return submit.disabled = false;
                }
            }
            // this variable selects the entire form and then starts the query to be sent to the backend
            const form = document.querySelector('form');
            
            // listens when the submit button is clicked
            form.addEventListener('submit', (e) => {
                e.preventDefault(); // Prevents HTML submission 

                // the if-statement checks if the submit button is enabled
                if (!$submit.disabled){
                // variable takes form data from the FormData function
                const fd = new FormData(form);
                // redirects back to login.html
                location.href = "login.html";
                
                // Takes our form data and creates a key-value pair and converts it into a query string for URL
                const urlEncoded = new URLSearchParams(fd).toString();
                
                // This fetch will communicate with our backend, and will post the urlEncoded variable to our backend
                fetch('http://localhost:5500/upload', {
                    method: "POST",
                    body: urlEncoded,
                    headers: {
                        //'application/x-www-form-urlencoded' or 'multipart/form-data'
                        'Content-type': 'application/x-www-form-urlencoded',

                    }
                })
            }});
        </script>
    </main>
    <footer>
        <div>
            <p id="pattern1" class="text-white text-center py-4">&copy; 2023 My Website</p>
        </div>
    </footer>
</body>
</html>